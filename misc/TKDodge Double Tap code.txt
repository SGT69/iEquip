	;Relevant double tap code lifted from TKDodgeSE aaaTKDodgeScript, easily adapted for triple tap
	
	int DTapKey1 = 0
	
	function OnKeyDown(int KeyCode)
	
	;...
	
	if DoubleTap
		if KeyCode == backkey && DTapKey1 == 0
			DTapKey1 = backkey
			self.RegisterForSingleUpdate(0.500000)
		elseIf KeyCode == leftkey && DTapKey1 == 0
			DTapKey1 = leftkey
			self.RegisterForSingleUpdate(0.500000)
		elseIf KeyCode == rightkey && DTapKey1 == 0
			DTapKey1 = rightkey
			self.RegisterForSingleUpdate(0.500000)
		elseIf KeyCode == forwardkey && DTapKey1 == 0
			DTapKey1 = forwardkey
			self.RegisterForSingleUpdate(0.500000)
		elseIf KeyCode == backkey && DTapKey1 == backkey
			self.DoDodgeAction(aaaTKDodgeBack)
		elseIf KeyCode == leftkey && DTapKey1 == leftkey
			self.DoDodgeAction(aaaTKDodgeLeft)
		elseIf KeyCode == rightkey && DTapKey1 == rightkey
			self.DoDodgeAction(aaaTKDodgeRight)
		elseIf KeyCode == forwardkey && DTapKey1 == forwardkey
			if DTapAction == 1
				self.DoDodgeAction(aaaTKDodgeForward)
			elseIf DTapAction == 2
				debug.SendAnimationEvent(player as objectreference, "SprintStart")
				bSprintStart = true
			endIf
		endIf
	endIf
	
	;...
	
	endFunction
	
	
	globalvariable property iEquip_MultiTapDelay auto ;Default value 0.4 sec?
	globalvariable property iEquip_LongPressDelay auto ;Default value 0.6 sec?
	
	function OnKeyUp(int KeyCode, float HoldTime)
	
		if HoldTime < iEquip_LongPressDelay.GetValueInt() ;If not longpress
			int DoubleTapKey = 0
			int TripleTapKey = 0
			bool isDoubleTap = false
			DoubleTapKey = KeyCode
			self.RegisterForSingleUpdate(iEquip_MultiTapDelay.GetValueInt()) ;Wait and listen for double tap
			TripleTapKey = Keycode
			if KeyCode == DoubleTapKey
				isDoubleTap = true
				self.RegisterForSingleUpdate(iEquip_MultiTapDelay.GetValueInt()) ;Wait and listen for triple tap
				if KeyCode == TripleTapKey
					isDoubleTap = false
					;debug.notification("Triple tap registered on " + GetKeyName(KeyCode))
					if KeyCode == iEquip_RightKey
						EquipPreselected(3)
					endIf
				endIf
				if isDoubleTap ;Check added to do nothing if triple tap attempted on anything other than Right Key
					;debug.notification("Double tap registered on " + GetKeyName(KeyCode))
					if KeyCode == iEquip_RightKey
						EquipPreselected(0)
					elseIf KeyCode == iEquip_LeftKey
						EquipPreselected(1)
					elseIf KeyCode == iEquip_ShoutKey
						EquipPreselected(2)
					elseIf KeyCode == iEquip_PotionKey
						ConsumeSelected()
					endIf
				endIf
				return
			else
			;do single press actions
			endIf
		else
		;debug.notification("Long press registered on " + GetKeyName(KeyCode))
		;do long press actions
		if KeyCode == iEquip_RightKey
			RechargeWeapon(0)
		elseIf KeyCode == iEquip_LeftKey
			RechargeWeapon(1)
		endIf
	endFunction
					
		
